@page "/Form/Customers"
@layout SampleLayout
@using DbNetSuiteCore.Blazor.Samples.Components.Layout
@using DbNetSuiteCore.Blazor.Samples.Components.Pages
@using DbNetSuiteCore.Models
@using DbNetSuiteCore.Constants
@using DbNetSuiteCore.Enums
@using Microsoft.AspNetCore.Components.Sections
@inject IHttpContextAccessor httpContextAccessor

@{
    var customerForm = new FormModel(DataSourceType.SQLite, "Northwind", "Customers") { Insert = true, Delete = true };
    customerForm.Columns = new List<FormColumn>() {
        new FormColumn("CustomerID") { TextTransform = TextTransform.Uppercase,  MinLength = 5, MaxLength = 5},
        new FormColumn("CompanyName") {Required = true},
        new FormColumn("ContactName"),
        new FormColumn("ContactTitle"),
        new FormColumn("Address"),
        new FormColumn("City") {InitialSortOrder =  SortOrder.Asc},
        new FormColumn("Region"),
        new FormColumn("PostalCode"),
        new FormColumn("Country"),
        new FormColumn("Phone") { Pattern = "^(?:\\+1)?\\s?\\(?\\d{3}\\)?[-.\\s]?\\d{3}[-.\\s]?\\d{4}$", HelpText = "Please enter a valid US phone number"},
        new FormColumn("Fax") 
    };
}

@(new DbNetSuiteCore.Blazor.Control(httpContextAccessor).Render(customerForm))

<SectionContent SectionName="summary">
    <p data-summary>CRUD applications can be created easily using the Form control</p>
</SectionContent>
